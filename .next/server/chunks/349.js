exports.id=349,exports.ids=[349],exports.modules={16189:(a,b,c)=>{"use strict";var d=c(65773);c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}})},16810:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},27871:(a,b,c)=>{Promise.resolve().then(c.bind(c,62370))},32648:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(37413),e=c(4668),f=c.n(e),g=c(45482),h=c.n(g);c(82704);var i=c(62370);let j={title:"IT Complaint Managment System",description:"Generated by create next app"};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable}`,children:(0,d.jsx)(i.Providers,{children:a})})})}},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},53710:(a,b,c)=>{"use strict";c.d(b,{default:()=>j});var d=c(60687),e=c(43210),f=c(82136),g=c(16189),h=c(76019),i=c.n(h);function j(){let[a,b]=(0,e.useState)(""),[c,h]=(0,e.useState)(""),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(1),[n,o]=(0,e.useState)(""),[p,q]=(0,e.useState)(!1),[r,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(0),[v,w]=(0,e.useState)(!1),x=(0,e.useRef)(null),y=(0,g.useRouter)(),z=a=>{s(!0),setTimeout(()=>{m(a),s(!1)},300)},A=async b=>{b.preventDefault(),q(!0),o("");let d=await (0,f.signIn)("credentials",{redirect:!1,email:a,password:c,role:"user",...2===l&&{otp:j}});if(q(!1),d?.error)try{let a=JSON.parse(d.error);"OTP_REQUIRED"===a.code?(z(2),o("✅ OTP sent to your email.")):o(a.message||"❌ Login failed.")}catch{o(d.error||"❌ Unexpected error.")}else y.push("/user/dashboard")},B=async b=>{b.preventDefault(),q(!0),o("");let c=await fetch("/api/auth/user-forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),d=await c.json();q(!1),c.ok?o("✅ Reset link sent to your email."):o(d.error||"❌ Failed to send reset link.")},C=async()=>{q(!0),o("");let b=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,role:"user"})}),c=await b.json();q(!1),u(30),b.ok?o("✅ OTP resent. Check your email."):o(c.error||"❌ Could not resend OTP.")};return(0,d.jsx)("div",{className:i().loginContainer,children:(0,d.jsxs)("div",{className:i().loginCard,children:[(0,d.jsxs)("div",{className:i().loginHeader,children:[(0,d.jsxs)("h2",{children:[1===l&&"Welcome Back",2===l&&"Verify Your Account",3===l&&"Reset Password"]}),(0,d.jsxs)("p",{children:[1===l&&"Sign in to access your account",2===l&&"Enter the code sent to your email",3===l&&"We'll help you get back into your account"]})]}),(0,d.jsxs)("form",{onSubmit:3===l?B:A,className:i().loginForm,children:[1===l?(0,d.jsxs)("div",{className:`${i().formStep} ${r?i().fadeOut:i().fadeIn}`,children:[(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{id:"email",type:"email",value:a,onChange:a=>b(a.target.value),required:!0,placeholder:"Enter your email",disabled:p})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsx)("input",{id:"password",type:"password",value:c,onChange:a=>h(a.target.value),required:!0,placeholder:"Enter your password",disabled:p})]}),(0,d.jsx)("button",{type:"button",onClick:()=>z(3),className:i().forgotPasswordLink,disabled:p,children:"Forgot Password?"}),(0,d.jsx)("button",{type:"submit",disabled:p||!v,className:`${i().submitButton} ${!v?i().inactiveButton:""}`,children:p?(0,d.jsxs)("div",{className:i().buttonLoading,children:[(0,d.jsx)("div",{className:i().spinner}),(0,d.jsx)("span",{children:"Verifying..."})]}):"Verify OTP"})]}):2===l?(0,d.jsxs)("div",{className:`${i().formStep} ${r?i().fadeOut:i().fadeIn}`,children:[(0,d.jsxs)("div",{className:i().otpHeader,children:[(0,d.jsx)("h3",{children:"Enter Verification Code"}),(0,d.jsx)("p",{children:"We've sent a 6-digit code to your email"})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"otp",children:"Verification Code"}),(0,d.jsx)("input",{id:"otp",ref:x,type:"text",maxLength:6,inputMode:"numeric",value:j,onChange:a=>k(a.target.value.replace(/\D/g,"")),required:!0,placeholder:"Enter 6-digit code",className:i().otpInput,disabled:p})]}),(0,d.jsxs)("div",{className:i().otpResend,children:[(0,d.jsx)("p",{children:"Didn't receive the code?"}),(0,d.jsx)("button",{type:"button",onClick:C,disabled:p||t>0,className:t>0?i().countdownActive:"",children:p?"Sending...":t>0?`Resend in ${t}s`:"Resend Code"})]}),(0,d.jsx)("button",{type:"submit",disabled:p,className:i().submitButton,children:p?(0,d.jsxs)("div",{className:i().buttonLoading,children:[(0,d.jsx)("div",{className:i().spinner}),(0,d.jsx)("span",{children:"Verifying OTP..."})]}):"Verify & Continue"}),(0,d.jsx)("button",{type:"button",onClick:()=>z(1),className:i().backToLogin,disabled:p,children:"Back to Login"})]}):3===l?(0,d.jsxs)("div",{className:`${i().formStep} ${r?i().fadeOut:i().fadeIn}`,children:[(0,d.jsxs)("div",{className:i().forgotPasswordHeader,children:[(0,d.jsx)("h3",{children:"Reset Your Password"}),(0,d.jsx)("p",{children:"Enter your email to receive a reset link"})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"reset-email",children:"Email"}),(0,d.jsx)("input",{id:"reset-email",type:"email",value:a,onChange:a=>b(a.target.value),required:!0,placeholder:"Enter your email",disabled:p})]}),(0,d.jsx)("button",{type:"submit",disabled:p,className:i().submitButton,children:p?(0,d.jsxs)("div",{className:i().buttonLoading,children:[(0,d.jsx)("div",{className:i().spinner}),(0,d.jsx)("span",{children:"Sending reset link..."})]}):"Send Reset Link"}),(0,d.jsx)("button",{type:"button",onClick:()=>z(1),className:i().backToLogin,disabled:p,children:"Back to Login"})]}):void 0,n&&(0,d.jsx)("div",{className:`${i().message} ${n.includes("✅")?i().success:i().error}`,children:n})]}),(0,d.jsx)("div",{className:i().cardFooter,children:(0,d.jsxs)("p",{children:["Don't have an account? ",(0,d.jsx)("a",{href:"/register",children:"Sign up"})]})})]})})}},62370:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\admin\\Desktop\\it\\app\\providers.jsx","Providers")},68596:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>f});var d=c(60687),e=c(82136);function f({children:a}){return(0,d.jsx)(e.SessionProvider,{children:a})}},76019:a=>{a.exports={loginContainer:"Login_loginContainer__hA_pw",loginCard:"Login_loginCard__SHhGx",fadeIn:"Login_fadeIn__waWAN",loginHeader:"Login_loginHeader__NMeno",loginForm:"Login_loginForm__xVBFv",formStep:"Login_formStep__fOAfk",fadeOut:"Login_fadeOut__tJPG9",inputGroup:"Login_inputGroup__8lUG9",otpInput:"Login_otpInput__ETLo7",otpHeader:"Login_otpHeader__BygG_",forgotPasswordHeader:"Login_forgotPasswordHeader__ofKe0",forgotPasswordLink:"Login_forgotPasswordLink__Np7Kv",backToLogin:"Login_backToLogin__J5wET",submitButton:"Login_submitButton__LYzpR",buttonLoader:"Login_buttonLoader__zb66L",spin:"Login_spin__Gg_oc",otpResend:"Login_otpResend__DDHXb",message:"Login_message__NVGU_",fadeSlideIn:"Login_fadeSlideIn__0qh66",success:"Login_success__v2F9N",error:"Login_error__1AWB3",cardFooter:"Login_cardFooter__cdbUX",inactiveButton:"Login_inactiveButton__F0VuJ"}},79858:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},82704:()=>{},88119:(a,b,c)=>{Promise.resolve().then(c.bind(c,68596))}};