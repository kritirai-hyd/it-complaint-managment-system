(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6878],{2737:(e,s,r)=>{Promise.resolve().then(r.bind(r,4693))},4693:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(5155),a=r(2115),n=r(5695),c=r(6651),o=r.n(c);function i(e){let{params:s}=e,{token:r}=s,[c,i]=(0,a.useState)(""),[l,d]=(0,a.useState)(""),[_,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),x=(0,n.useRouter)(),w=async e=>{if(e.preventDefault(),g(!0),u(""),c!==l){u("❌ Passwords do not match."),g(!1);return}if(c.length<8){u("❌ Password must be at least 8 characters long."),g(!1);return}let s=await fetch("/api/auth/user-reset-password/".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:c})}),t=await s.json();g(!1),s.ok?(u("✅ Password reset successful. Redirecting to login..."),m(!0),setTimeout(()=>{x.push("/login")},3e3)):u(t.error||"❌ Reset failed. The link may have expired.")};return(0,t.jsx)("div",{className:o().resetContainer,children:(0,t.jsxs)("div",{className:o().resetCard,children:[(0,t.jsxs)("div",{className:o().resetHeader,children:[(0,t.jsx)("h2",{children:"Reset Your Password"}),(0,t.jsx)("p",{children:h?"Your password has been successfully reset":"Create a new password for your account"})]}),h?(0,t.jsxs)("div",{className:o().successContainer,children:[(0,t.jsx)("div",{className:o().successAnimation,children:(0,t.jsxs)("svg",{className:o().checkmark,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52",children:[(0,t.jsx)("circle",{className:o().checkmarkCircle,cx:"26",cy:"26",r:"25",fill:"none"}),(0,t.jsx)("path",{className:o().checkmarkCheck,fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})]})}),(0,t.jsx)("p",{className:o().successText,children:"Your password has been successfully reset!"}),(0,t.jsx)("p",{className:o().redirectText,children:"You will be redirected to the login page shortly."}),(0,t.jsx)("button",{onClick:()=>x.push("/login"),className:o().loginButton,children:"Go to Login Now"})]}):(0,t.jsxs)("form",{onSubmit:w,className:o().resetForm,children:[(0,t.jsxs)("div",{className:o().inputGroup,children:[(0,t.jsx)("label",{htmlFor:"password",children:"New Password"}),(0,t.jsx)("input",{id:"password",type:"password",value:c,onChange:e=>i(e.target.value),placeholder:"Enter your new password",required:!0,minLength:"8"}),(0,t.jsxs)("div",{className:o().passwordStrength,children:[(0,t.jsx)("div",{className:"".concat(o().strengthBar," ").concat(c.length>=1?o().weak:""," ").concat(c.length>=4?o().medium:""," ").concat(c.length>=8?o().strong:"")}),(0,t.jsx)("span",{className:o().strengthText,children:0===c.length?"":c.length<4?"Weak":c.length<8?"Medium":"Strong"})]})]}),(0,t.jsxs)("div",{className:o().inputGroup,children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,t.jsx)("input",{id:"confirmPassword",type:"password",value:l,onChange:e=>d(e.target.value),placeholder:"Confirm your new password",required:!0,minLength:"8"}),l&&c!==l&&(0,t.jsx)("p",{className:o().errorText,children:"Passwords do not match"})]}),(0,t.jsx)("button",{type:"submit",disabled:p||c!==l||c.length<8,className:o().submitButton,children:p?(0,t.jsx)("div",{className:o().buttonLoader}):"Reset Password"})]}),_&&(0,t.jsx)("div",{className:"".concat(o().message," ").concat(_.includes("✅")?o().success:o().error),children:_})]})})}},5695:(e,s,r)=>{"use strict";var t=r(8999);r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}})},6651:e=>{e.exports={resetContainer:"reset_resetContainer__PQjwA",resetCard:"reset_resetCard__ZHsW6",fadeIn:"reset_fadeIn__71vAv",resetHeader:"reset_resetHeader__5_sOo",resetForm:"reset_resetForm__RGMcg",inputGroup:"reset_inputGroup__WzHtf",passwordStrength:"reset_passwordStrength__PGS8O",strengthBar:"reset_strengthBar__ymqea",weak:"reset_weak__fgVGL",medium:"reset_medium__C5Car",strong:"reset_strong__pyAjA",strengthText:"reset_strengthText__SpZ4C",errorText:"reset_errorText__TF11K",submitButton:"reset_submitButton__26Nj_",buttonLoader:"reset_buttonLoader__GvFU_",spin:"reset_spin__IhsWH",successContainer:"reset_successContainer__nvWhd",successAnimation:"reset_successAnimation__nkYdA",checkmark:"reset_checkmark__N63N4",fill:"reset_fill__NvXBb",scale:"reset_scale__mIY8m",checkmarkCircle:"reset_checkmarkCircle__GIzle",stroke:"reset_stroke__H2Sp9",checkmarkCheck:"reset_checkmarkCheck__oovsJ",successText:"reset_successText__vD5kd",redirectText:"reset_redirectText__N_fKv",loginButton:"reset_loginButton__gXa15",message:"reset_message__OpNIt",fadeSlideIn:"reset_fadeSlideIn__j7N7t",success:"reset_success__2Pke_",error:"reset_error__OKq3y"}}},e=>{e.O(0,[6720,8441,5964,7358],()=>e(e.s=2737)),_N_E=e.O()}]);