(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7503],{4269:(e,a,s)=>{Promise.resolve().then(s.bind(s,9010))},5492:()=>{},9010:(e,a,s)=>{"use strict";s.d(a,{default:()=>N});var l=s(5155),i=s(2115),n=s(2108),t=s(351),r=s(6766),c=s(6874),o=s.n(c),d=s(760),m=s(8274);s(5492);let h={Name:{required:!0,maxLength:100},Email:{required:!0,maxLength:100},"Phone Number":{required:!0,maxLength:10,pattern:/^[0-9]{10}$/},"Complaint Type":{required:!0,options:["Hardware","Software","Network"]},"Complaint Sub-Type":{required:!1,options:{Hardware:["Hard Disk Issue","Motherboard Issue","Keyboard Problem","Monitor Issue"],Software:["Addmobe Issue","MS Office Related","Operating System","Application Crash"],Network:["WiFi Not Working","LAN Not Working","Connection Drops","Slow Speed"]}},Location:{required:!0,options:["Delhi","Noida"],branches:{Noida:["PLOT NO - 56, 6C, C Block, Phase 2, C Block, Sector 62, Noida"],Delhi:["70A/32, 3rd floor, Rama Road, Kirti Nagar, Delhi-110015"]}},"Company Name":{required:!0},Title:{required:!0,maxLength:200},Description:{required:!0,maxLength:2e3}},p={pending:{text:"Pending",color:"#F59E0B",icon:(0,l.jsx)(t.Ohp,{})},in_progress:{text:"In Progress",color:"#3B82F6",icon:(0,l.jsx)(t.Ohp,{})},resolved:{text:"Resolved",color:"#10B981",icon:(0,l.jsx)(t.A3x,{})},rejected:{text:"Rejected",color:"#EF4444",icon:(0,l.jsx)(t.y3G,{})}},u=["image/jpeg","image/png","application/pdf"],x=i.memo(()=>(0,l.jsxs)("div",{className:"spinner-container",children:[(0,l.jsx)("div",{className:"spinner"}),(0,l.jsx)("p",{children:"Loading..."})]})),j=i.memo(e=>{var a;let{complaint:s,expanded:n,onToggleExpand:r}=e,c=(0,i.useCallback)(e=>e?"#".concat(e.toString().slice(-6).toUpperCase()):"#N/A",[]),o=(0,i.useCallback)(e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",[]),h=(0,i.useMemo)(()=>({pending:{color:"rgb(245, 158, 11)",bgColor:"rgba(245, 158, 11, 0.125)",icon:(0,l.jsx)(t.Ohp,{})},in_progress:{color:"rgb(59, 130, 246)",bgColor:"rgba(59, 130, 246, 0.125)",icon:(0,l.jsx)(t.Ohp,{})},resolved:{color:"rgb(16, 185, 129)",bgColor:"rgba(16, 185, 129, 0.125)",icon:(0,l.jsx)(t.A3x,{})},rejected:{color:"rgb(239, 68, 68)",bgColor:"rgba(239, 68, 68, 0.125)",icon:(0,l.jsx)(t.y3G,{})}}),[]),p=s.status||"pending",u=h[p];return(0,l.jsxs)("div",{className:"complaint-card ".concat(n?"expanded":""),children:[(0,l.jsxs)("div",{className:"card-header",onClick:r,children:[(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsxs)("div",{className:"card-title-section",children:[(0,l.jsx)("h3",{children:s.title||"Untitled Complaint"}),(0,l.jsx)("div",{className:"complaint-id",children:c(s.complaintId)})]}),(0,l.jsxs)("div",{className:"card-meta",children:[(0,l.jsx)("span",{className:"complaint-date",children:o(s.createdAt)}),(0,l.jsxs)("div",{className:"complaint-status",style:{backgroundColor:(null==u?void 0:u.bgColor)||"#f3f4f6",color:(null==u?void 0:u.color)||"#374151"},children:[null==u?void 0:u.icon,p.replace("_"," ")]})]})]}),(0,l.jsx)("span",{className:"expand-icon",children:n?(0,l.jsx)(t.wAb,{}):(0,l.jsx)(t.fK4,{})})]}),(0,l.jsx)(d.N,{children:n&&(0,l.jsx)(m.P.div,{className:"card-body",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,l.jsxs)("div",{className:"complaint-details",children:[(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Type:"}),(0,l.jsxs)("span",{className:"detail-value",children:[s.complaintType||"Not specified",s.complaintSubType&&" (".concat(s.complaintSubType,")")]})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Location:"}),(0,l.jsx)("span",{className:"detail-value",children:s.location||"Not specified"})]}),(0,l.jsxs)("div",{className:"detail-row",children:[(0,l.jsx)("span",{className:"detail-label",children:"Branch:"}),(0,l.jsx)("span",{className:"detail-value",children:s.companyAddress||"Not specified"})]}),(0,l.jsxs)("div",{className:"detail-row full-width",children:[(0,l.jsx)("span",{className:"detail-label",children:"Description:"}),(0,l.jsx)("p",{className:"detail-value",children:s.description||"No description provided"})]}),(null==(a=s.attachments)?void 0:a.length)>0&&(0,l.jsxs)("div",{className:"detail-row full-width",children:[(0,l.jsx)("span",{className:"detail-label",children:"Attachments:"}),(0,l.jsx)("div",{className:"attachments-list",children:s.attachments.map((e,a)=>(0,l.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"attachment-item",children:[(0,l.jsx)(t._mV,{}),(0,l.jsx)("span",{className:"file-name",children:e.name}),(0,l.jsx)("span",{className:"download-icon",children:(0,l.jsx)(t.kRp,{style:{transform:"rotate(135deg)"}})})]},a))})]}),s.engineerMessage&&(0,l.jsxs)("div",{className:"detail-row full-width",children:[(0,l.jsx)("span",{className:"detail-label",children:"Engineer Response:"}),(0,l.jsx)("div",{className:"admin-response",children:(0,l.jsx)("p",{children:s.engineerMessage})})]})]})})})]})},(e,a)=>e.expanded===a.expanded&&e.complaint.complaintId===a.complaint.complaintId&&e.complaint.status===a.complaint.status),N=()=>{var e,a,s,c,N;let{data:b,status:v}=(0,n.useSession)(),[g,C]=(0,i.useState)("history"),[y,f]=(0,i.useState)(!1),[w,k]=(0,i.useState)({Name:"",Email:"","Phone Number":"","Complaint Type":"","Complaint Sub-Type":"",Location:"","Company Name":"",Title:"",Description:"",assignedTo:"",assignedToEmail:"",engineerMessage:""}),[S,T]=(0,i.useState)([]),[L,E]=(0,i.useState)(!1),[P,D]=(0,i.useState)(""),[q,A]=(0,i.useState)(!1),[F,G]=(0,i.useState)(null),[I,R]=(0,i.useState)([]),[O,M]=(0,i.useState)([]),[_,B]=(0,i.useState)(!1),[U,K]=(0,i.useState)(""),[V,W]=(0,i.useState)(null),[Y,z]=(0,i.useState)(""),[H,J]=(0,i.useState)("all"),$=((e,a)=>{let[s,l]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let a=setTimeout(()=>l(e),300);return()=>clearTimeout(a)},[e,300]),s})(Y,300),X=(0,i.useRef)(null),Q=(0,i.useRef)(null),Z=(0,i.useCallback)(()=>{f(e=>!e)},[]),ee=(0,i.useCallback)(()=>{f(!1)},[]),ea=(0,i.useCallback)(e=>{C(e),f(!1)},[]);(0,i.useEffect)(()=>{(null==b?void 0:b.user)&&k(e=>({...e,Name:b.user.name||"",Email:b.user.email||""}))},[b]);let es=(0,i.useCallback)(async()=>{var e;if(null==b||null==(e=b.user)?void 0:e.email){B(!0),K("");try{let e=await fetch("/api/complaint?email=".concat(encodeURIComponent(b.user.email)));if(!e.ok)throw Error("Failed to fetch complaints");let a=await e.json(),s=Array.isArray(a)?a:a.complaints;if(!Array.isArray(s))throw Error("Invalid data format from server");let l=s.sort((e,a)=>new Date(a.createdAt)-new Date(e.createdAt));M(l)}catch(e){console.error("Error fetching complaints:",e),K(e.message)}finally{B(!1)}}},[b]);(0,i.useEffect)(()=>{"history"===g&&es()},[g,es]);let el=(0,i.useCallback)(e=>{let{name:a,value:s}=e.target;("Phone Number"!==a||/^\d*$/.test(s)&&!(s.length>10))&&k(e=>{let l={...e,[a]:s};return"Complaint Type"===a&&(l["Complaint Sub-Type"]=""),"Location"===a&&(l["Company Name"]=""),l})},[]),ei=(0,i.useCallback)(e=>{k(a=>{let s={...a,[e]:""};return"Complaint Type"===e&&(s["Complaint Sub-Type"]=""),"Location"===e&&(s["Company Name"]=""),s})},[]),en=(0,i.useCallback)(e=>{if(!e.target.files)return;let a=Array.from(e.target.files).slice(0,5-S.length).filter(e=>e.size<=5242880&&u.includes(e.type));T(e=>[...e,...a])},[S.length]),et=(0,i.useCallback)(e=>{T(a=>a.filter((a,s)=>s!==e))},[]),er=(0,i.useCallback)(()=>{let e=[];return Object.entries(h).forEach(a=>{let[s,l]=a;l.required&&!w[s]&&e.push("".concat(s," is required"))}),S.length>5&&e.push("Maximum ".concat(5," files allowed")),R(e),0===e.length},[w,S]),ec=(0,i.useCallback)(async e=>{if(e.preventDefault(),E(!0),R([]),!er())return void E(!1);try{let e=new FormData;Object.entries(w).forEach(a=>{let[s,l]=a;e.append(s,l)}),S.forEach(a=>{e.append("files",a)});let a=await fetch("/api/complaint",{method:"POST",body:e});if(!a.ok){let e=await a.json();throw Error(e.message||"Failed to submit complaint")}let s=await a.json();G(s),D("Complaint submitted successfully!"),A(!0),eo(),await es()}catch(e){console.error("Error submitting complaint:",e),R([e.message])}finally{E(!1)}},[w,S,er,es]),eo=(0,i.useCallback)(()=>{var e,a;k({Name:(null==b||null==(e=b.user)?void 0:e.name)||"",Email:(null==b||null==(a=b.user)?void 0:a.email)||"","Phone Number":"","Complaint Type":"","Complaint Sub-Type":"",Location:"","Company Name":"",Title:"",Description:"",assignedTo:"",assignedToEmail:"",engineerMessage:""}),T([]),R([]),X.current&&(X.current.value="")},[b]),ed=(0,i.useMemo)(()=>O.filter(e=>{if("all"!==H&&e.status!==H)return!1;if($){var a,s,l;let i=$.toLowerCase();return(null==(a=e.title)?void 0:a.toLowerCase().includes(i))||(null==(s=e.description)?void 0:s.toLowerCase().includes(i))||(null==(l=e.complaintid)?void 0:l.toLowerCase().includes(i))}return!0}),[O,$,H]),em=(0,i.useMemo)(()=>w.Location&&h.Location.branches[w.Location]||[],[w.Location]),eh=(0,i.useCallback)(e=>{W(a=>a===e?null:e)},[]);return"loading"===v?(0,l.jsx)(x,{}):"unauthenticated"===v?(0,l.jsxs)("div",{className:"auth-error",children:[(0,l.jsx)(t.y3G,{}),(0,l.jsx)("h2",{children:"Access Denied"}),(0,l.jsx)("p",{children:"Please sign in to access the dashboard"}),(0,l.jsx)(o(),{href:"/login",children:"Sign In"})]}):(0,l.jsxs)("div",{className:"dashboard-container",children:[(0,l.jsxs)("div",{className:"mobile-header",children:[(0,l.jsx)("button",{className:"menu-toggle",onClick:Z,"aria-label":"Toggle menu",children:y?(0,l.jsx)(t.yGN,{}):(0,l.jsx)(t.Wm,{})}),(0,l.jsxs)("h2",{children:[(0,l.jsx)(t.V5Y,{className:"logo-icon"}),"Complaint Portal"]}),(0,l.jsx)("div",{className:"mobile-user",children:(null==b||null==(e=b.user)?void 0:e.image)?(0,l.jsx)(r.default,{src:b.user.image,alt:"User",width:36,height:36,priority:!0}):(0,l.jsx)(t.JXP,{className:"default-avatar"})})]}),(0,l.jsx)("div",{className:"sidebar-overlay ".concat(y?"active":""),onClick:ee}),(0,l.jsxs)("aside",{className:"sidebar ".concat(y?"mobile-open":""),children:[(0,l.jsxs)("div",{className:"sidebar-header",children:[(0,l.jsxs)("div",{className:"sidebar-header-top",children:[(0,l.jsxs)("h2",{children:[(0,l.jsx)(t.V5Y,{className:"logo-icon"})," Complaint Portal"]}),(0,l.jsx)("button",{className:"sidebar-close",onClick:ee,"aria-label":"Close sidebar",children:(0,l.jsx)(t.yGN,{})})]}),(0,l.jsxs)("div",{className:"user-profile",children:[(0,l.jsx)("div",{className:"avatar",children:(null==b||null==(a=b.user)?void 0:a.image)?(0,l.jsx)(r.default,{src:b.user.image,alt:"User",width:40,height:40,priority:!0}):(0,l.jsx)(t.JXP,{className:"default-avatar"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"username",children:null==b||null==(s=b.user)?void 0:s.name}),(0,l.jsx)("p",{className:"user-email",children:null==b||null==(c=b.user)?void 0:c.email})]})]})]}),(0,l.jsxs)("nav",{className:"sidebar-nav",children:[(0,l.jsxs)("button",{className:"new-complaint-btn ".concat("new"===g?"active":""),onClick:()=>ea("new"),children:[(0,l.jsx)(t.GGD,{})," Register New Complaint"]}),(0,l.jsxs)("button",{className:"nav-link ".concat("history"===g?"active":""),onClick:()=>ea("history"),children:[(0,l.jsx)(t.Wm,{})," My Complaints"]})]}),(0,l.jsxs)("button",{className:"logout-btn",onClick:()=>(0,n.signOut)({callbackUrl:"/login"}),children:[(0,l.jsx)(t.QeK,{})," Sign Out"]})]}),(0,l.jsx)(d.N,{children:q&&(0,l.jsx)(m.P.div,{className:"success-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>A(!1),children:(0,l.jsxs)(m.P.div,{className:"success-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),children:[(0,l.jsx)(t.A3x,{className:"success-icon"}),(0,l.jsx)("h3",{children:"Complaint Submitted Successfully!"}),(0,l.jsx)("p",{children:"Your complaint has been registered with reference ID:"}),(0,l.jsx)("div",{className:"complaint-id",children:F.complaintId||void 0}),(0,l.jsx)("p",{children:"We'll get back to you soon with updates."}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{onClick:()=>{A(!1),C("history")},className:"view-complaints-btn",children:"View My Complaints"}),(0,l.jsx)("button",{onClick:()=>A(!1),className:"close-modal-btn",children:"Close"})]})]})})}),(0,l.jsx)("main",{className:"main-content",children:"new"===g?(0,l.jsxs)("div",{className:"form-container",children:[(0,l.jsxs)("div",{className:"form-header",children:[(0,l.jsxs)("button",{className:"back-button",onClick:()=>C("history"),children:[(0,l.jsx)(t.kRp,{})," Back to Complaints"]}),(0,l.jsx)("h2",{children:"Register New Complaint"})]}),I.length>0&&(0,l.jsxs)("div",{className:"alert-error",children:[(0,l.jsx)(t.y3G,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Submission Errors"}),(0,l.jsx)("ul",{children:I.map((e,a)=>(0,l.jsx)("li",{children:e},a))})]})]}),(0,l.jsx)("form",{onSubmit:ec,ref:Q,children:(0,l.jsxs)("div",{className:"form-grid",children:[(0,l.jsxs)("div",{className:"form-section span-2",children:[(0,l.jsx)("h3",{children:"Personal Information"}),(0,l.jsxs)("div",{className:"section-grid",children:[(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Name",children:["Name",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsx)("input",{type:"text",id:"Name",name:"Name",value:w.Name,onChange:el,required:!0,maxLength:100,placeholder:"Enter your name..."})]}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Email",children:["Email",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsx)("input",{type:"email",id:"Email",name:"Email",value:w.Email,onChange:el,required:!0,maxLength:100,placeholder:"Enter your email..."})]}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Phone Number",children:["Phone Number",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsxs)("div",{className:"input-with-clear",children:[(0,l.jsx)("input",{type:"tel",id:"Phone Number",name:"Phone Number",value:w["Phone Number"],onChange:el,required:!0,maxLength:10,pattern:"^[0-9]{10}$",placeholder:"Enter 10-digit phone number..."}),w["Phone Number"]&&(0,l.jsx)("button",{type:"button",className:"clear-input",onClick:()=>ei("Phone Number"),"aria-label":"Clear phone number",children:(0,l.jsx)(t.yGN,{})})]})]})]})]}),(0,l.jsxs)("div",{className:"form-section span-2",children:[(0,l.jsx)("h3",{children:"Complaint Details"}),(0,l.jsxs)("div",{className:"section-grid",children:[(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Complaint Type",children:["Complaint Type",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsxs)("div",{className:"select-with-clear",children:[(0,l.jsxs)("select",{id:"Complaint Type",name:"Complaint Type",value:w["Complaint Type"],onChange:el,required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select Complaint Type"}),h["Complaint Type"].options.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),w["Complaint Type"]&&(0,l.jsx)("button",{type:"button",className:"clear-select",onClick:()=>ei("Complaint Type"),"aria-label":"Clear complaint type",children:(0,l.jsx)(t.yGN,{})})]})]}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsx)("label",{htmlFor:"Complaint Sub-Type",children:"Complaint Sub-Type"}),(0,l.jsxs)("div",{className:"select-with-clear",children:[(0,l.jsxs)("select",{id:"Complaint Sub-Type",name:"Complaint Sub-Type",value:w["Complaint Sub-Type"],onChange:el,disabled:!w["Complaint Type"],children:[(0,l.jsx)("option",{value:"",children:"Select Sub-Type"}),w["Complaint Type"]&&(null==(N=h["Complaint Sub-Type"].options[w["Complaint Type"]])?void 0:N.map(e=>(0,l.jsx)("option",{value:e,children:e},e)))]}),w["Complaint Sub-Type"]&&(0,l.jsx)("button",{type:"button",className:"clear-select",onClick:()=>ei("Complaint Sub-Type"),"aria-label":"Clear complaint sub-type",children:(0,l.jsx)(t.yGN,{})})]})]}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Location",children:["Location",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsxs)("div",{className:"select-with-clear",children:[(0,l.jsxs)("select",{id:"Location",name:"Location",value:w.Location,onChange:el,required:!0,children:[(0,l.jsx)("option",{value:"",children:"Select Location"}),h.Location.options.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),w.Location&&(0,l.jsx)("button",{type:"button",className:"clear-select",onClick:()=>ei("Location"),"aria-label":"Clear location",children:(0,l.jsx)(t.yGN,{})})]})]}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Company Name",children:["Company Name",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsxs)("div",{className:"select-with-clear",children:[(0,l.jsxs)("select",{id:"Company Name",name:"Company Name",value:w["Company Name"],onChange:el,required:!0,disabled:!w.Location,children:[(0,l.jsx)("option",{value:"",children:"Select Branch"}),em.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]}),w["Company Name"]&&(0,l.jsx)("button",{type:"button",className:"clear-select",onClick:()=>ei("Company Name"),"aria-label":"Clear company name",children:(0,l.jsx)(t.yGN,{})})]})]})]})]}),(0,l.jsxs)("div",{className:"form-section span-2",children:[(0,l.jsx)("h3",{children:"Complaint Description"}),(0,l.jsxs)("div",{className:"section-grid",children:[(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{htmlFor:"Title",children:["Title",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsx)("input",{type:"text",id:"Title",name:"Title",value:w.Title,onChange:el,required:!0,maxLength:200,placeholder:"Enter complaint title..."})]}),(0,l.jsxs)("div",{className:"form-field span-2",children:[(0,l.jsxs)("label",{htmlFor:"Description",children:["Description",(0,l.jsx)("span",{className:"required",children:"*"})]}),(0,l.jsx)("textarea",{id:"Description",name:"Description",value:w.Description,onChange:el,required:!0,rows:5,maxLength:2e3,placeholder:"Describe your complaint in detail..."})]})]})]}),(0,l.jsxs)("div",{className:"form-section span-2",children:[(0,l.jsx)("h3",{children:"Attachments"}),(0,l.jsxs)("div",{className:"form-field",children:[(0,l.jsxs)("label",{children:["Upload Files (max ",5," files)"]}),(0,l.jsxs)("div",{className:"file-upload",children:[(0,l.jsxs)("label",{className:"file-upload-btn",children:[(0,l.jsx)("input",{type:"file",multiple:!0,onChange:en,accept:u.join(","),disabled:S.length>=5,ref:X}),(0,l.jsx)(t._mV,{})," Choose Files"]}),(0,l.jsxs)("p",{className:"file-hint",children:["Allowed: JPG, PNG, PDF (max"," ",5,"MB each)"]}),S.length>0&&(0,l.jsx)("div",{className:"file-preview",children:S.map((e,a)=>(0,l.jsxs)("div",{className:"file-item",children:[(0,l.jsxs)("div",{className:"file-info",children:[(0,l.jsx)(t._mV,{}),(0,l.jsx)("span",{className:"file-name",title:e.name,children:e.name.length>30?"".concat(e.name.substring(0,15),"...").concat(e.name.substring(e.name.length-10)):e.name}),(0,l.jsxs)("span",{className:"file-size",children:["(",(e.size/1024).toFixed(1),"KB)"]})]}),(0,l.jsx)("button",{type:"button",onClick:()=>et(a),className:"remove-file-btn","aria-label":"Remove file ".concat(e.name),children:(0,l.jsx)(t.yGN,{})})]},a))})]})]})]}),(0,l.jsxs)("div",{className:"form-actions span-2",children:[(0,l.jsx)("button",{type:"button",onClick:eo,className:"reset-btn",children:"Reset Form"}),(0,l.jsx)("button",{type:"submit",disabled:L,className:"submit-btn",children:L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"spinner"}),"Submitting..."]}):"Submit Complaint"})]})]})})]}):(0,l.jsxs)("div",{className:"history-container",children:[(0,l.jsxs)("header",{children:[(0,l.jsx)("h1",{children:"My Complaints"}),(0,l.jsxs)("div",{className:"search-filter",children:[(0,l.jsxs)("div",{className:"search-bar",children:[(0,l.jsx)(t.CKj,{}),(0,l.jsx)("input",{type:"text",placeholder:"Search complaints...",value:Y,onChange:e=>z(e.target.value)})]}),(0,l.jsxs)("div",{className:"status-filters",children:[(0,l.jsx)("button",{className:"all"===H?"active":"",onClick:()=>J("all"),"aria-label":"Show all complaints",children:"All"}),Object.entries(p).map(e=>{let[a,s]=e;return(0,l.jsxs)("button",{className:H===a?"active":"",onClick:()=>J(a),style:{color:s.color},"aria-label":"Show ".concat(a," complaints"),children:[s.icon,s.text]},a)})]})]})]}),_?(0,l.jsx)(x,{}):U?(0,l.jsxs)("div",{className:"error-message",children:[(0,l.jsx)(t.y3G,{}),(0,l.jsx)("p",{children:U}),(0,l.jsx)("button",{onClick:es,children:"Retry"})]}):0===ed.length?(0,l.jsxs)("div",{className:"empty-state",children:[(0,l.jsx)("p",{children:Y?"No matching complaints found":"You haven't submitted any complaints yet"}),(0,l.jsxs)("button",{className:"new-complaint-btn",onClick:()=>{C("new"),eo()},children:[(0,l.jsx)(t.GGD,{})," Register New Complaint"]})]}):(0,l.jsx)("div",{className:"complaints-grid",children:ed.map(e=>(0,l.jsx)(j,{complaint:e,expanded:V===e.complaintId,onToggleExpand:()=>eh(e.complaintId)},e.complaintId))})]})})]})}}},e=>{e.O(0,[5789,844,2108,6874,5751,4677,8441,5964,7358],()=>e(e.s=4269)),_N_E=e.O()}]);