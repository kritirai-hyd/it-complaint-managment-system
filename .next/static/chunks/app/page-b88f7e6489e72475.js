(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{136:(e,o,t)=>{"use strict";t.d(o,{default:()=>g});var n=t(5155),s=t(2115);t(2108);var a=t(5695),r=t(6874),i=t.n(r),l=t(8354),_=t.n(l),c=t(5678),d=t.n(c);let m=()=>(0,n.jsx)("footer",{className:d().footer,children:(0,n.jsx)("div",{className:d().footerContainer,children:(0,n.jsx)("div",{className:d().footerBottom,children:(0,n.jsx)("p",{className:d().para,children:"IT Complaint Management System \xa9 2025 | Designed & Developed by Kriti Rai"})})})});var u=t(2698);let g=()=>{let[e,o]=(0,s.useState)({email:"",password:""}),[t,r]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[d,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1);(0,a.useRouter)(),(0,s.useEffect)(()=>{let e=()=>{j(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let b=()=>{x(!f)};return e.email&&e.password,(0,n.jsxs)("div",{className:_().loginPage,children:[(0,n.jsxs)("header",{className:_().header,children:[(0,n.jsxs)("div",{className:_().headerContainer,children:[(0,n.jsx)("div",{className:_().logoContainer,children:(0,n.jsx)(i(),{href:"/",className:_().logoLink,children:(0,n.jsx)("h1",{className:_().logoText,children:"IT Complaint Management"})})}),(0,n.jsx)("nav",{className:_().nav,children:(0,n.jsxs)("ul",{className:_().navList,children:[(0,n.jsx)("li",{className:_().navItem,children:(0,n.jsx)(i(),{href:"/login",className:"".concat(_().navLink," ").concat(_().ctaButton),children:"Login"})}),(0,n.jsx)("li",{className:_().navItem,children:(0,n.jsx)(i(),{href:"/register",className:"".concat(_().navLink," ").concat(_().ctaButton),children:"Register"})})]})}),(0,n.jsxs)("button",{className:"".concat(_().mobileMenuButton," ").concat(f?_().open:""),onClick:b,"aria-label":"Toggle menu",children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})]}),v&&f&&(0,n.jsxs)("div",{className:_().mobileMenu,children:[(0,n.jsx)(i(),{href:"/login",className:_().mobileNavLink,onClick:b,children:"Login"}),(0,n.jsx)(i(),{href:"/register",className:_().mobileNavLink,onClick:b,children:"Register"})]})]}),(0,n.jsx)(u.default,{}),(0,n.jsx)(m,{})]})}},2698:(e,o,t)=>{"use strict";t.d(o,{default:()=>_});var n=t(5155),s=t(2115),a=t(2108),r=t(5695),i=t(4814),l=t.n(i);function _(){let[e,o]=(0,s.useState)(""),[t,i]=(0,s.useState)(""),[_,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(1),[u,g]=(0,s.useState)(""),[p,h]=(0,s.useState)(!1),[f,x]=(0,s.useState)(!1),[v,j]=(0,s.useState)(0),[b,L]=(0,s.useState)(!1),N=(0,s.useRef)(null),H=(0,r.useRouter)();(0,s.useEffect)(()=>{L(""!==e.trim()&&""!==t.trim())},[e,t]),(0,s.useEffect)(()=>{2===d&&N.current&&N.current.focus(),2===d&&0===v&&j(30)},[d]),(0,s.useEffect)(()=>{if(v>0){let e=setTimeout(()=>j(v-1),1e3);return()=>clearTimeout(e)}},[v]);let k=e=>{x(!0),setTimeout(()=>{m(e),x(!1)},300)},S=async o=>{o.preventDefault(),h(!0),g("");let n=await (0,a.signIn)("credentials",{redirect:!1,email:e,password:t,role:"user",...2===d&&{otp:_}});if(h(!1),null==n?void 0:n.error)try{let e=JSON.parse(n.error);"OTP_REQUIRED"===e.code?(k(2),g("✅ OTP sent to your email.")):g(e.message||"❌ Login failed.")}catch(e){g(n.error||"❌ Unexpected error.")}else H.push("/user/dashboard")},C=async o=>{o.preventDefault(),h(!0),g("");let t=await fetch("/api/auth/user-forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),n=await t.json();h(!1),t.ok?g("✅ Reset link sent to your email."):g(n.error||"❌ Failed to send reset link.")},y=async()=>{h(!0),g("");let o=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,role:"user"})}),t=await o.json();h(!1),j(30),o.ok?g("✅ OTP resent. Check your email."):g(t.error||"❌ Could not resend OTP.")};return(0,n.jsx)("div",{className:l().loginContainer,children:(0,n.jsxs)("div",{className:l().loginCard,children:[(0,n.jsxs)("div",{className:l().loginHeader,children:[(0,n.jsxs)("h2",{children:[1===d&&"Welcome Back",2===d&&"Verify Your Account",3===d&&"Reset Password"]}),(0,n.jsxs)("p",{children:[1===d&&"Sign in to access your account",2===d&&"Enter the code sent to your email",3===d&&"We'll help you get back into your account"]})]}),(0,n.jsxs)("form",{onSubmit:3===d?C:S,className:l().loginForm,children:[1===d?(0,n.jsxs)("div",{className:"".concat(l().formStep," ").concat(f?l().fadeOut:l().fadeIn),children:[(0,n.jsxs)("div",{className:l().inputGroup,children:[(0,n.jsx)("label",{htmlFor:"email",children:"Email"}),(0,n.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>o(e.target.value),required:!0,placeholder:"Enter your email",disabled:p})]}),(0,n.jsxs)("div",{className:l().inputGroup,children:[(0,n.jsx)("label",{htmlFor:"password",children:"Password"}),(0,n.jsx)("input",{id:"password",type:"password",value:t,onChange:e=>i(e.target.value),required:!0,placeholder:"Enter your password",disabled:p})]}),(0,n.jsx)("button",{type:"button",onClick:()=>k(3),className:l().forgotPasswordLink,disabled:p,children:"Forgot Password?"}),(0,n.jsx)("button",{type:"submit",disabled:p||!b,className:"".concat(l().submitButton," ").concat(b?"":l().inactiveButton),children:p?(0,n.jsxs)("div",{className:l().buttonLoading,children:[(0,n.jsx)("div",{className:l().spinner}),(0,n.jsx)("span",{children:"Verifying..."})]}):"Verify OTP"})]}):2===d?(0,n.jsxs)("div",{className:"".concat(l().formStep," ").concat(f?l().fadeOut:l().fadeIn),children:[(0,n.jsxs)("div",{className:l().otpHeader,children:[(0,n.jsx)("h3",{children:"Enter Verification Code"}),(0,n.jsx)("p",{children:"We've sent a 6-digit code to your email"})]}),(0,n.jsxs)("div",{className:l().inputGroup,children:[(0,n.jsx)("label",{htmlFor:"otp",children:"Verification Code"}),(0,n.jsx)("input",{id:"otp",ref:N,type:"text",maxLength:6,inputMode:"numeric",value:_,onChange:e=>c(e.target.value.replace(/\D/g,"")),required:!0,placeholder:"Enter 6-digit code",className:l().otpInput,disabled:p})]}),(0,n.jsxs)("div",{className:l().otpResend,children:[(0,n.jsx)("p",{children:"Didn't receive the code?"}),(0,n.jsx)("button",{type:"button",onClick:y,disabled:p||v>0,className:v>0?l().countdownActive:"",children:p?"Sending...":v>0?"Resend in ".concat(v,"s"):"Resend Code"})]}),(0,n.jsx)("button",{type:"submit",disabled:p,className:l().submitButton,children:p?(0,n.jsxs)("div",{className:l().buttonLoading,children:[(0,n.jsx)("div",{className:l().spinner}),(0,n.jsx)("span",{children:"Verifying OTP..."})]}):"Verify & Continue"}),(0,n.jsx)("button",{type:"button",onClick:()=>k(1),className:l().backToLogin,disabled:p,children:"Back to Login"})]}):3===d?(0,n.jsxs)("div",{className:"".concat(l().formStep," ").concat(f?l().fadeOut:l().fadeIn),children:[(0,n.jsxs)("div",{className:l().forgotPasswordHeader,children:[(0,n.jsx)("h3",{children:"Reset Your Password"}),(0,n.jsx)("p",{children:"Enter your email to receive a reset link"})]}),(0,n.jsxs)("div",{className:l().inputGroup,children:[(0,n.jsx)("label",{htmlFor:"reset-email",children:"Email"}),(0,n.jsx)("input",{id:"reset-email",type:"email",value:e,onChange:e=>o(e.target.value),required:!0,placeholder:"Enter your email",disabled:p})]}),(0,n.jsx)("button",{type:"submit",disabled:p,className:l().submitButton,children:p?(0,n.jsxs)("div",{className:l().buttonLoading,children:[(0,n.jsx)("div",{className:l().spinner}),(0,n.jsx)("span",{children:"Sending reset link..."})]}):"Send Reset Link"}),(0,n.jsx)("button",{type:"button",onClick:()=>k(1),className:l().backToLogin,disabled:p,children:"Back to Login"})]}):void 0,u&&(0,n.jsx)("div",{className:"".concat(l().message," ").concat(u.includes("✅")?l().success:l().error),children:u})]}),(0,n.jsx)("div",{className:l().cardFooter,children:(0,n.jsxs)("p",{children:["Don't have an account? ",(0,n.jsx)("a",{href:"/register",children:"Sign up"})]})})]})})}},4814:e=>{e.exports={loginContainer:"Login_loginContainer__hA_pw",loginCard:"Login_loginCard__SHhGx",fadeIn:"Login_fadeIn__waWAN",loginHeader:"Login_loginHeader__NMeno",loginForm:"Login_loginForm__xVBFv",formStep:"Login_formStep__fOAfk",fadeOut:"Login_fadeOut__tJPG9",inputGroup:"Login_inputGroup__8lUG9",otpInput:"Login_otpInput__ETLo7",otpHeader:"Login_otpHeader__BygG_",forgotPasswordHeader:"Login_forgotPasswordHeader__ofKe0",forgotPasswordLink:"Login_forgotPasswordLink__Np7Kv",backToLogin:"Login_backToLogin__J5wET",submitButton:"Login_submitButton__LYzpR",buttonLoader:"Login_buttonLoader__zb66L",spin:"Login_spin__Gg_oc",otpResend:"Login_otpResend__DDHXb",message:"Login_message__NVGU_",fadeSlideIn:"Login_fadeSlideIn__0qh66",success:"Login_success__v2F9N",error:"Login_error__1AWB3",cardFooter:"Login_cardFooter__cdbUX",inactiveButton:"Login_inactiveButton__F0VuJ"}},5025:(e,o,t)=>{Promise.resolve().then(t.bind(t,136))},5678:e=>{e.exports={footer:"Footer_footer__sgndA",para:"Footer_para__GUwh2",footerContainer:"Footer_footerContainer__HtJzp",footerSections:"Footer_footerSections__158b0",footerSection:"Footer_footerSection__fPhqa",logoContainer:"Footer_logoContainer__Pk06v",logoIcon:"Footer_logoIcon__pJ412",logoText:"Footer_logoText__uJGoV",footerDescription:"Footer_footerDescription__fPtiX",socialLinks:"Footer_socialLinks__FzJvN",footerLinks:"Footer_footerLinks__IfWvs",contactInfo:"Footer_contactInfo__SEObv",contactItem:"Footer_contactItem__mVh6K",contactIcon:"Footer_contactIcon__i3RT_",footerBottom:"Footer_footerBottom__7_6A5",footerBottomContent:"Footer_footerBottomContent__jHURk",legalLinks:"Footer_legalLinks__QfM1R",divider:"Footer_divider__9JTOM"}},5695:(e,o,t)=>{"use strict";var n=t(8999);t.o(n,"useRouter")&&t.d(o,{useRouter:function(){return n.useRouter}})},8354:e=>{e.exports={loginPage:"Home_loginPage__u3UpR",header:"Home_header__hrHn4",headerContainer:"Home_headerContainer__IKZPf",logoContainer:"Home_logoContainer__7m3gO",logoLink:"Home_logoLink__2D5xU",logoText:"Home_logoText__FQrqq",nav:"Home_nav__vFz2X",navList:"Home_navList__UyQ8g",navItem:"Home_navItem__N0JCD",navLink:"Home_navLink__C2dYB",ctaButton:"Home_ctaButton__yFT5S",mobileMenuButton:"Home_mobileMenuButton__MkLD_",open:"Home_open__sNRJu",mobileMenu:"Home_mobileMenu__l8ylL",mobileNavLink:"Home_mobileNavLink__BA7vZ",main:"Home_main__eqRv0",container:"Home_container__upgWV",content:"Home_content__7anid",hero:"Home_hero__3Bjf4",heroTitle:"Home_heroTitle___Muxa",heroDescription:"Home_heroDescription__rB_92",features:"Home_features__cuoQe",feature:"Home_feature__m2kFf",featureIcon:"Home_featureIcon__6kBI0",formSection:"Home_formSection__T_vSw",formContainer:"Home_formContainer__93SdB",formHeader:"Home_formHeader__SxLQi",form:"Home_form__NQiX8",inputGroup:"Home_inputGroup__SmalB",label:"Home_label__O_9O8",input:"Home_input__R7k28",passwordContainer:"Home_passwordContainer__VG_LD",passwordToggle:"Home_passwordToggle__WmqHD",rememberForgot:"Home_rememberForgot__H6Syd",rememberMe:"Home_rememberMe__cko7y",forgotPassword:"Home_forgotPassword__OdoWw",submitButton:"Home_submitButton__TWRxx",disabled:"Home_disabled__gSw96",loadingSpinner:"Home_loadingSpinner__2WGOF",spin:"Home_spin__jWKAd",signUpLink:"Home_signUpLink__4KkF3",errorMessage:"Home_errorMessage__JPdkA",successMessage:"Home_successMessage__NReM9",footer:"Home_footer__WVEo4",footerContent:"Home_footerContent__HtJ8R",footerLinks:"Home_footerLinks__Zacff"}}},e=>{e.O(0,[2805,2108,6874,8441,5964,7358],()=>e(e.s=5025)),_N_E=e.O()}]);