exports.id=297,exports.ids=[297],exports.modules={10273:a=>{a.exports={dashboardContainer:"Login_dashboardContainer___Bner",mainContent:"Login_mainContent__LrP7H",dashboardHeader:"Login_dashboardHeader__ZzCSO",userInfo:"Login_userInfo__166la",userAvatar:"Login_userAvatar___ewoz",avatarPlaceholder:"Login_avatarPlaceholder__3IJQs",loginCard:"Login_loginCard__K_oI6",cardHeader:"Login_cardHeader__2B8fn",loginForm:"Login_loginForm__SXhV_",formStep:"Login_formStep___AJ0S",inputGroup:"Login_inputGroup__D1INU",otpInstructions:"Login_otpInstructions__vRU2G",otpIcon:"Login_otpIcon__TDFv2",resendButton:"Login_resendButton__apwBk",message:"Login_message__t_Mx4",error:"Login_error__AgYGx",success:"Login_success__9KY8u",submitButton:"Login_submitButton___5mld",buttonLoading:"Login_buttonLoading__h6Mc1",spinner:"Login_spinner__UK__N",spin:"Login_spin__W81Mb",cardFooter:"Login_cardFooter__yOxdJ",dashboardFooter:"Login_dashboardFooter__0UgDX",footerLinks:"Login_footerLinks__AzteY"}},11507:(a,b,c)=>{Promise.resolve().then(c.bind(c,98354))},16189:(a,b,c)=>{"use strict";var d=c(65773);c.o(d,"useRouter")&&c.d(b,{useRouter:function(){return d.useRouter}})},16810:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,16133,23)),Promise.resolve().then(c.t.bind(c,16444,23)),Promise.resolve().then(c.t.bind(c,16042,23)),Promise.resolve().then(c.t.bind(c,49477,23)),Promise.resolve().then(c.t.bind(c,29345,23)),Promise.resolve().then(c.t.bind(c,12089,23)),Promise.resolve().then(c.t.bind(c,46577,23)),Promise.resolve().then(c.t.bind(c,31307,23)),Promise.resolve().then(c.t.bind(c,14817,23))},17243:(a,b,c)=>{Promise.resolve().then(c.bind(c,67936))},27871:(a,b,c)=>{Promise.resolve().then(c.bind(c,62370))},32648:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>j});var d=c(37413),e=c(4668),f=c.n(e),g=c(45482),h=c.n(g);c(82704);var i=c(62370);let j={title:"IT Complaint Managment System",description:"Generated by create next app"};function k({children:a}){return(0,d.jsx)("html",{lang:"en",children:(0,d.jsx)("body",{className:`${f().variable} ${h().variable}`,children:(0,d.jsx)(i.Providers,{children:a})})})}},46055:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(31658);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},53038:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),Object.defineProperty(b,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=c(43210);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof b.default||"object"==typeof b.default&&null!==b.default)&&void 0===b.default.__esModule&&(Object.defineProperty(b.default,"__esModule",{value:!0}),Object.assign(b.default,b),a.exports=b.default)},62370:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\admin\\Desktop\\it\\app\\providers.jsx","Providers")},67936:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(61369).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\admin\\\\Desktop\\\\it\\\\app\\\\Components\\\\Admin\\\\Login.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\admin\\Desktop\\it\\app\\Components\\Admin\\Login.jsx","default")},68596:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>f});var d=c(60687),e=c(82136);function f({children:a}){return(0,d.jsx)(e.SessionProvider,{children:a})}},79858:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,25227,23)),Promise.resolve().then(c.t.bind(c,86346,23)),Promise.resolve().then(c.t.bind(c,27924,23)),Promise.resolve().then(c.t.bind(c,40099,23)),Promise.resolve().then(c.t.bind(c,38243,23)),Promise.resolve().then(c.t.bind(c,28827,23)),Promise.resolve().then(c.t.bind(c,62763,23)),Promise.resolve().then(c.t.bind(c,97173,23)),Promise.resolve().then(c.bind(c,25587))},82704:()=>{},88119:(a,b,c)=>{Promise.resolve().then(c.bind(c,68596))},98354:(a,b,c)=>{"use strict";c.d(b,{default:()=>j});var d=c(60687),e=c(43210),f=c(82136),g=c(16189);c(30474);var h=c(10273),i=c.n(h);function j(){let[a,b]=(0,e.useState)(""),[c,h]=(0,e.useState)(""),[j,k]=(0,e.useState)(""),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)(1),[p,q]=(0,e.useState)(""),[r,s]=(0,e.useState)(!1),t=(0,g.useRouter)(),u=(0,e.useRef)(null),v=async b=>{b.preventDefault(),s(!0),q("");let d={redirect:!1,email:a.trim(),password:c,role:j,...2===n&&{otp:l.trim()}},e=await (0,f.signIn)("credentials",d);if(s(!1),e?.error)try{let a=JSON.parse(e.error);"OTP_REQUIRED"===a.code?(o(2),q("✅ OTP sent to your email. Please enter it below.")):q(`❌ ${a.message||"Login failed"}`)}catch{q(`❌ ${e.error}`)}else switch(j){case"admin":t.push("/admin/dashboard");break;case"manager":t.push("/manager/dashboard");break;case"engineer":t.push("/engineer/dashboard");break;default:t.push("/")}},w=async()=>{s(!0),q("");let b=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.trim(),role:j})}),c=await b.json();s(!1),b.ok?q("✅ OTP resent to your email."):q(`❌ ${c?.error||"Failed to resend OTP."}`)};return(0,d.jsx)("div",{className:i().dashboardContainer,children:(0,d.jsxs)("div",{className:i().mainContent,children:[(0,d.jsxs)("header",{className:i().dashboardHeader,children:[(0,d.jsx)("h1",{children:"Backend Login Portal "}),(0,d.jsxs)("div",{className:i().userInfo,children:[(0,d.jsx)("span",{children:"Secure Backend Login Portal "}),(0,d.jsx)("div",{className:i().userAvatar,children:(0,d.jsx)("div",{className:i().avatarPlaceholder,children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z",clipRule:"evenodd"})})})})]})]}),(0,d.jsxs)("div",{className:i().loginCard,children:[(0,d.jsxs)("div",{className:i().cardHeader,children:[(0,d.jsx)("h2",{children:"Backend Login Portal "}),(0,d.jsx)("p",{children:1===n?"Enter your credentials":"Verify your identity"})]}),(0,d.jsxs)("form",{onSubmit:v,className:i().loginForm,children:[1===n&&(0,d.jsxs)("div",{className:i().formStep,children:[(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,d.jsx)("input",{id:"email",type:"email",placeholder:"Enter your email",value:a,onChange:a=>b(a.target.value),required:!0,disabled:r})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsx)("input",{id:"password",type:"password",placeholder:"Enter your password",value:c,onChange:a=>h(a.target.value),required:!0,disabled:r})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"role",children:"Role"}),(0,d.jsxs)("select",{id:"role",value:j,onChange:a=>k(a.target.value),required:!0,disabled:r,children:[(0,d.jsx)("option",{value:"",children:"Select your role"}),(0,d.jsx)("option",{value:"admin",children:"Admin"}),(0,d.jsx)("option",{value:"manager",children:"Manager"}),(0,d.jsx)("option",{value:"engineer",children:"Engineer"})]})]})]}),2===n&&(0,d.jsxs)("div",{className:i().formStep,children:[(0,d.jsxs)("div",{className:i().otpInstructions,children:[(0,d.jsx)("div",{className:i().otpIcon,children:(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})})}),(0,d.jsx)("p",{children:"We've sent a 6-digit verification code to your email address."})]}),(0,d.jsxs)("div",{className:i().inputGroup,children:[(0,d.jsx)("label",{htmlFor:"otp",children:"Verification Code"}),(0,d.jsx)("input",{ref:u,id:"otp",type:"text",placeholder:"Enter 6-digit code",value:l,onChange:a=>m(a.target.value),maxLength:6,inputMode:"numeric",pattern:"\\d{6}",required:!0,disabled:r})]}),(0,d.jsx)("button",{type:"button",onClick:w,disabled:r,className:i().resendButton,children:r?"Resending...":"Resend Code"})]}),p&&(0,d.jsx)("div",{className:`${i().message} ${p.includes("❌")?i().error:i().success}`,children:p.replace("✅","").replace("❌","")}),(0,d.jsx)("button",{type:"submit",disabled:r,className:i().submitButton,children:r?(0,d.jsxs)("span",{className:i().buttonLoading,children:[(0,d.jsx)("span",{className:i().spinner}),1===n?"Logging in...":"Verifying..."]}):1===n?"Login":"Verify Code"})]}),(0,d.jsx)("div",{className:i().cardFooter,children:(0,d.jsxs)("p",{children:["Having trouble signing in? ",(0,d.jsx)("a",{href:"admin/register",children:"Register here"})]})})]}),(0,d.jsxs)("div",{className:i().dashboardFooter,children:[(0,d.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," Admin Portal. All rights reserved."]}),(0,d.jsxs)("div",{className:i().footerLinks,children:[(0,d.jsx)("a",{href:"#",children:"Privacy Policy"}),(0,d.jsx)("a",{href:"#",children:"Terms of Service"}),(0,d.jsx)("a",{href:"#",children:"Help"})]})]})]})})}}};